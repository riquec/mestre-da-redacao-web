(()=>{var e={};e.id=698,e.ids=[698],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},80303:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),t(9477),t(78259),t(72697),t(54821),t(17489);var a=t(88619),s=t(31304),o=t(2332),i=t.n(o),n=t(66734),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d=["",{children:["professor",{children:["dashboard",{children:["correcoes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9477)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/dashboard/correcoes/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,21858)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/dashboard/correcoes/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,78259)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,72697)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,54821)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,17489,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/dashboard/correcoes/page.tsx"],u="/professor/dashboard/correcoes/page",m={require:t,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/professor/dashboard/correcoes/page",pathname:"/professor/dashboard/correcoes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91728:(e,r,t)=>{Promise.resolve().then(t.bind(t,61399))},10490:()=>{},61399:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>en});var a=t(30173),s=t(73317),o=t(50867),i=t(4249),n=t(9914),l=t(99287),d=t(32535),c=t(79207),u=t(97952),m=t(19497),f=t(53655),p=t(24803),x=t(40125),h=t(61342),g=t(22719),v=t(3957),b=t(22269),y=t(25374),j=["PageUp","PageDown"],w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},k="Slider",[S,P,D]=(0,y.B)(k),[C,R]=(0,p.b)(k,[D]),[M,A]=C(k),q=s.forwardRef((e,r)=>{let{name:t,min:o=0,max:i=100,step:n=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:f=[o],value:p,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:b,...y}=e,N=s.useRef(new Set),k=s.useRef(0),P="horizontal"===l?_:E,[D=[],C]=(0,x.T)({prop:p,defaultProp:f,onChange:e=>{let r=[...N.current];r[k.current]?.focus(),h(e)}}),R=s.useRef(D);function A(e,r,{commit:t}={commit:!1}){let a=(String(n).split(".")[1]||"").length,s=function(e,r){let t=Math.pow(10,r);return Math.round(e*t)/t}(Math.round((e-o)/n)*n+o,a),l=(0,u.u)(s,[o,i]);C((e=[])=>{var a,s;let o=function(e=[],r,t){let a=[...e];return a[t]=r,a.sort((e,r)=>e-r)}(e,l,r);if(a=o,!(!((s=c*n)>0)||Math.min(...a.slice(0,-1).map((e,r)=>a[r+1]-e))>=s))return e;{k.current=o.indexOf(l);let r=String(o)!==String(e);return r&&t&&g(o),r?o:e}})}return(0,a.jsx)(M,{scope:e.__scopeSlider,name:t,disabled:d,min:o,max:i,valueIndexToChangeRef:k,thumbs:N.current,values:D,orientation:l,form:b,children:(0,a.jsx)(S.Provider,{scope:e.__scopeSlider,children:(0,a.jsx)(S.Slot,{scope:e.__scopeSlider,children:(0,a.jsx)(P,{"aria-disabled":d,"data-disabled":d?"":void 0,...y,ref:r,onPointerDown:(0,m.M)(y.onPointerDown,()=>{d||(R.current=D)}),min:o,max:i,inverted:v,onSlideStart:d?void 0:function(e){let r=function(e,r){if(1===e.length)return 0;let t=e.map(e=>Math.abs(e-r));return t.indexOf(Math.min(...t))}(D,e);A(e,r)},onSlideMove:d?void 0:function(e){A(e,k.current)},onSlideEnd:d?void 0:function(){let e=R.current[k.current];D[k.current]!==e&&g(D)},onHomeKeyDown:()=>!d&&A(o,0,{commit:!0}),onEndKeyDown:()=>!d&&A(i,D.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:r})=>{if(!d){let t=j.includes(e.key)||e.shiftKey&&w.includes(e.key),a=k.current;A(D[a]+n*(t?10:1)*r,a,{commit:!0})}}})})})})});q.displayName=k;var[Z,z]=C(k,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=s.forwardRef((e,r)=>{let{min:t,max:o,dir:i,inverted:n,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,[p,x]=s.useState(null),g=(0,f.e)(r,e=>x(e)),v=s.useRef(void 0),b=(0,h.gm)(i),y="ltr"===b,j=y&&!n||!y&&n;function w(e){let r=v.current||p.getBoundingClientRect(),a=Y([0,r.width],j?[t,o]:[o,t]);return v.current=r,a(e-r.left)}return(0,a.jsx)(Z,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:(0,a.jsx)(U,{dir:b,"data-orientation":"horizontal",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let r=w(e.clientX);l?.(r)},onSlideMove:e=>{let r=w(e.clientX);d?.(r)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:e=>{let r=N[j?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:r?-1:1})}})})}),E=s.forwardRef((e,r)=>{let{min:t,max:o,inverted:i,onSlideStart:n,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,m=s.useRef(null),p=(0,f.e)(r,m),x=s.useRef(void 0),h=!i;function g(e){let r=x.current||m.current.getBoundingClientRect(),a=Y([0,r.height],h?[o,t]:[t,o]);return x.current=r,a(e-r.top)}return(0,a.jsx)(Z,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:(0,a.jsx)(U,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let r=g(e.clientY);n?.(r)},onSlideMove:e=>{let r=g(e.clientY);l?.(r)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:e=>{let r=N[h?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:r?-1:1})}})})}),U=s.forwardRef((e,r)=>{let{__scopeSlider:t,onSlideStart:s,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:n,onEndKeyDown:l,onStepKeyDown:d,...c}=e,u=A(k,t);return(0,a.jsx)(b.WV.span,{...c,ref:r,onKeyDown:(0,m.M)(e.onKeyDown,e=>{"Home"===e.key?(n(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):j.concat(w).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,m.M)(e.onPointerDown,e=>{let r=e.target;r.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(r)?r.focus():s(e)}),onPointerMove:(0,m.M)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:(0,m.M)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&(r.releasePointerCapture(e.pointerId),i(e))})})}),I="SliderTrack",V=s.forwardRef((e,r)=>{let{__scopeSlider:t,...s}=e,o=A(I,t);return(0,a.jsx)(b.WV.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...s,ref:r})});V.displayName=I;var F="SliderRange",L=s.forwardRef((e,r)=>{let{__scopeSlider:t,...o}=e,i=A(F,t),n=z(F,t),l=s.useRef(null),d=(0,f.e)(r,l),c=i.values.length,u=i.values.map(e=>B(e,i.min,i.max));return(0,a.jsx)(b.WV.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:d,style:{...e.style,[n.startEdge]:(c>1?Math.min(...u):0)+"%",[n.endEdge]:100-Math.max(...u)+"%"}})});L.displayName=F;var H="SliderThumb",T=s.forwardRef((e,r)=>{let t=P(e.__scopeSlider),[o,i]=s.useState(null),n=(0,f.e)(r,e=>i(e)),l=s.useMemo(()=>o?t().findIndex(e=>e.ref.current===o):-1,[t,o]);return(0,a.jsx)(O,{...e,ref:n,index:l})}),O=s.forwardRef((e,r)=>{let{__scopeSlider:t,index:o,name:i,...n}=e,l=A(H,t),d=z(H,t),[c,u]=s.useState(null),p=(0,f.e)(r,e=>u(e)),x=!c||l.form||!!c.closest("form"),h=(0,v.t)(c),g=l.values[o],y=void 0===g?0:B(g,l.min,l.max),j=function(e,r){return r>2?`Value ${e+1} of ${r}`:2===r?["Minimum","Maximum"][e]:void 0}(o,l.values.length),w=h?.[d.size],N=w?function(e,r,t){let a=e/2,s=Y([0,50],[0,a]);return(a-s(r)*t)*t}(w,y,d.direction):0;return s.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),(0,a.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${y}% + ${N}px)`},children:[(0,a.jsx)(S.ItemSlot,{scope:e.__scopeSlider,children:(0,a.jsx)(b.WV.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":l.min,"aria-valuenow":g,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...n,ref:p,style:void 0===g?{display:"none"}:e.style,onFocus:(0,m.M)(e.onFocus,()=>{l.valueIndexToChangeRef.current=o})})}),x&&(0,a.jsx)(W,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:g},o)]})});T.displayName=H;var W=e=>{let{value:r,...t}=e,o=s.useRef(null),i=(0,g.D)(r);return s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(i!==r&&t){let a=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[i,r]),(0,a.jsx)("input",{style:{display:"none"},...t,ref:o,defaultValue:r})};function B(e,r,t){return(0,u.u)(100/(t-r)*(e-r),[0,100])}function Y(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(t-e[0])}}var $=t(71747);let K=s.forwardRef(({className:e,...r},t)=>(0,a.jsxs)(q,{ref:t,className:(0,$.cn)("relative flex w-full touch-none select-none items-center",e),...r,children:[a.jsx(V,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(L,{className:"absolute h-full bg-primary"})}),a.jsx(T,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));K.displayName=q.displayName;var G=t(51950),X=t(3089),J=t(57699),Q=t(94276);let ee=(0,t(51825).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var er=t(47393),et=t(64619),ea=t(73090),es=t(98345),eo=t(12424),ei=t(40255);function en(){let{user:e}=(0,ea.a)();(0,eo.useRouter)();let[r,u]=(0,s.useState)(null),[m,f]=(0,s.useState)(""),[p,x]=(0,s.useState)([]),[h,g]=(0,s.useState)({}),[v,b]=(0,s.useState)(!0),[y,j]=(0,s.useState)({score:0,competencies:[{name:"Dom\xednio da norma culta",score:0,maxScore:200},{name:"Compreens\xe3o da proposta",score:0,maxScore:200},{name:"Sele\xe7\xe3o de argumentos",score:0,maxScore:200},{name:"Coes\xe3o textual",score:0,maxScore:200},{name:"Proposta de interven\xe7\xe3o",score:0,maxScore:200}],feedback:"",audioFeedback:null,pdfCorrection:null,audioPreview:null,pdfPreview:null,markedImage:null});(0,s.useRef)(null),(0,s.useRef)(null);let[w,N]=(0,s.useState)(!1),k=p.filter(e=>e.userName?.toLowerCase().includes(m.toLowerCase())||(h[e.themeId]?.title?.toLowerCase()||"").includes(m.toLowerCase())),S=k.filter(e=>e.correction&&"string"==typeof e.correction.status&&"pending"===e.correction.status||!e.correction||"string"!=typeof e.correction.status),P=k.filter(e=>e.correction&&"string"==typeof e.correction.status&&"done"===e.correction.status),D=e=>{u(e);let r=p.find(r=>r.id===e);r?.correction&&j({...y,score:r.correction.score?.total||0,feedback:r.correction.feedback||""})},C=(e,r)=>{let t=[...y.competencies];t[e].score=r[0];let a=t.reduce((e,r)=>e+r.score,0);j({...y,competencies:t,score:a})},R=async()=>{if(!r||!e)return;N(!0);let a,s,o="",i="";try{y.audioFeedback&&(a=(0,es.ref)(er.tO,`corrections/${r}/audio-feedback`),await (0,es.uploadBytes)(a,y.audioFeedback),o=await (0,es.getDownloadURL)(a)),y.pdfCorrection&&(s=(0,es.ref)(er.tO,`corrections/${r}/correction-pdf`),await (0,es.uploadBytes)(s,y.pdfCorrection),i=await (0,es.getDownloadURL)(s));let t=(0,et.JU)(er.db,"essays",r),n={total:y.competencies.reduce((e,r)=>e+r.score,0),dominioNormaCulta:y.competencies[0].score,compreensaoProposta:y.competencies[1].score,selecaoArgumentos:y.competencies[2].score,coesaoTextual:y.competencies[3].score,propostaIntervencao:y.competencies[4].score};await (0,et.r7)(t,{correction:{...p.find(e=>e.id===r)?.correction||{},audioFileUrl:o,correctionFileUrl:i,correctionFileName:y.pdfCorrection?.name,completedAt:new Date,score:n,status:"done"}});let l=(0,et.hJ)(er.db,"essays"),d=(0,et.IO)(l,(0,et.ar)("correction.assignedTo","==",e.uid)),c=await (0,et.PL)(d),m=await Promise.all(c.docs.map(async e=>{let r=e.data(),t=(0,et.JU)(er.db,"users",r.userId),a=(await (0,et.QT)(t)).data();return{...r,id:e.id,userName:a?.name||"Usu\xe1rio n\xe3o encontrado",userEmail:a?.email||"",fileUrl:r.fileUrl,fileName:r.fileName}}));m.sort((e,r)=>{let t=e.submittedAt?.toDate()||new Date(0);return(r.submittedAt?.toDate()||new Date(0)).getTime()-t.getTime()}),x(m),ei.A.success("Corre\xe7\xe3o enviada com sucesso!"),u(null)}catch(e){a&&await a&&(await Promise.resolve().then(t.bind(t,98345))).deleteObject(a),s&&await s&&(await Promise.resolve().then(t.bind(t,98345))).deleteObject(s),ei.A.error("Erro ao enviar corre\xe7\xe3o. Tente novamente.")}finally{N(!1)}},M=e=>e>=900?"bg-green-50 text-green-700 border-green-200":e>=700?"bg-blue-50 text-blue-700 border-blue-200":e>=500?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200";return v?a.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando corre\xe7\xf5es..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Corre\xe7\xf5es"}),a.jsx("p",{className:"text-gray-500",children:"Gerencie as corre\xe7\xf5es de reda\xe7\xf5es dos alunos"})]}),r?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(o.z,{variant:"outline",onClick:()=>{u(null)},children:"Voltar para lista"}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Corrigir reda\xe7\xe3o"}),a.jsx(i.SZ,{children:h[p.find(e=>e.id===r)?.themeId||""]?.title||"Tema n\xe3o encontrado"})]}),(0,a.jsxs)(i.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"font-medium",children:"Informa\xe7\xf5es da reda\xe7\xe3o"})}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Aluno:"}),a.jsx("span",{className:"font-medium",children:p.find(e=>e.id===r)?.userName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Proposta:"}),a.jsx("span",{className:"font-medium",children:h[p.find(e=>e.id===r)?.themeId||""]?.title||"Tema n\xe3o encontrado"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Enviada:"}),a.jsx("span",{className:"font-medium",children:p.find(e=>e.id===r)?.submittedAt.toDate().toLocaleDateString()})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Reda\xe7\xe3o do aluno"}),a.jsx("div",{className:"border rounded-md overflow-hidden p-4 flex flex-col gap-2 items-start",children:r&&(()=>{let e=p.find(e=>e.id===r);if(!e)return null;let t=e.fileUrl,s=e.fileName||"redacao-aluno",o=e=>{let r=e.match(/\.([a-zA-Z0-9]+)(\?|$)/);return r?r[1].toLowerCase():""},i=o(s)||o(t||""),n="pdf"===i,l=["jpg","jpeg","png","gif","bmp","webp"].includes(i);return t?(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("a",{href:t,download:s,className:"px-3 py-1 bg-blue-100 text-blue-800 rounded hover:bg-blue-200 text-sm font-medium",target:"_blank",rel:"noopener noreferrer",children:"Baixar arquivo"}),a.jsx("span",{className:"text-gray-500 text-xs",children:s})]}),n&&a.jsx("iframe",{src:t,className:"w-full h-64 border rounded-md mt-2",title:"Pr\xe9-visualiza\xe7\xe3o do PDF da reda\xe7\xe3o"}),l&&a.jsx("img",{src:t,alt:"Reda\xe7\xe3o",className:"max-w-full max-h-96 border rounded-md mt-2"})]}):a.jsx("div",{children:"Nenhum arquivo dispon\xedvel"})})()})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Upload do PDF da corre\xe7\xe3o"}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-md p-6 flex flex-col items-center justify-center text-center",children:[a.jsx(Q.Z,{className:"h-8 w-8 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"Arraste e solte o PDF da corre\xe7\xe3o ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Formato aceito: PDF (m\xe1x. 5MB)"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(d.I,{id:"pdf-correction",type:"file",accept:".pdf",onChange:e=>{if(console.log("PDF input onChange disparado"),e.target.files&&e.target.files[0]){let r=e.target.files[0];console.log("Arquivo PDF selecionado:",r),j({...y,pdfCorrection:r,pdfPreview:URL.createObjectURL(r)})}}}),y.pdfCorrection&&a.jsx("span",{className:"text-sm text-gray-500",children:y.pdfCorrection.name})]}),y.pdfPreview&&a.jsx("iframe",{src:y.pdfPreview,className:"w-full h-64 border rounded-md mt-4",title:"Pr\xe9-visualiza\xe7\xe3o do PDF"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Avalia\xe7\xe3o por compet\xeancia"}),a.jsx("div",{className:"space-y-6",children:y.competencies.map((e,r)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx(c._,{children:e.name}),(0,a.jsxs)("span",{className:"font-medium",children:[e.score,"/",e.maxScore]})]}),a.jsx(K,{value:[e.score],max:e.maxScore,step:10,onValueChange:e=>C(r,e)})]},r))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium",children:"Nota final"}),a.jsx("div",{className:"text-2xl font-bold",children:y.score})]}),a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${y.score>=900?"bg-green-500":y.score>=700?"bg-blue-500":y.score>=500?"bg-yellow-500":"bg-red-500"}`,style:{width:`${y.score/1e3*100}%`}})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Feedback em \xe1udio"}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-md p-6 flex flex-col items-center justify-center text-center",children:[a.jsx(ee,{className:"h-8 w-8 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"Arraste e solte o arquivo de \xe1udio ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Formatos aceitos: MP3, WAV (m\xe1x. 10MB)"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(d.I,{id:"audio-feedback",type:"file",accept:".mp3,.wav",onChange:e=>{if(console.log("\xc1udio input onChange disparado"),e.target.files&&e.target.files[0]){let r=e.target.files[0];console.log("Arquivo de \xe1udio selecionado:",r),j({...y,audioFeedback:r,audioPreview:URL.createObjectURL(r)})}}}),y.audioFeedback&&a.jsx("span",{className:"text-sm text-gray-500",children:y.audioFeedback.name})]}),y.audioPreview&&(0,a.jsxs)("audio",{controls:!0,className:"w-full mt-4",children:[a.jsx("source",{src:y.audioPreview,type:"audio/mpeg"}),"Seu navegador n\xe3o suporta o elemento de \xe1udio."]})]})]})]}),a.jsx(i.eW,{className:"flex justify-end",children:a.jsx(o.z,{onClick:R,disabled:w||!y.audioFeedback||!y.pdfCorrection,children:w?"Enviando...":"Enviar corre\xe7\xe3o"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(G.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),a.jsx(d.I,{placeholder:"Buscar por aluno ou t\xedtulo...",className:"pl-8",value:m,onChange:e=>f(e.target.value)})]})}),(0,a.jsxs)(n.mQ,{defaultValue:"pending",children:[(0,a.jsxs)(n.dr,{className:"mb-4",children:[(0,a.jsxs)(n.SP,{value:"pending",children:["Pendentes (",S.length,")"]}),(0,a.jsxs)(n.SP,{value:"completed",children:["Conclu\xeddas (",P.length,")"]})]}),a.jsx(n.nU,{value:"pending",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[S.map(e=>a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-yellow-100 rounded-md p-2",children:a.jsx(X.Z,{className:"h-5 w-5 text-yellow-500"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium",children:h[e.themeId]?.title||"Tema n\xe3o encontrado"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Aluno: ",e.userName," • Enviada ",e.submittedAt.toDate().toLocaleDateString()]})]})]}),a.jsx(o.z,{onClick:()=>D(e.id),children:"Corrigir"})]})})},e.id)),0===S.length&&a.jsx("div",{className:"text-center py-10 text-gray-500",children:a.jsx("p",{children:"Nenhuma corre\xe7\xe3o pendente encontrada"})})]})}),a.jsx(n.nU,{value:"completed",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[P.map(e=>a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-green-100 rounded-md p-2",children:a.jsx(J.Z,{className:"h-5 w-5 text-green-500"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium",children:h[e.themeId]?.title||"Tema n\xe3o encontrado"}),(0,a.jsxs)(l.C,{variant:"outline",className:M(e.correction&&e.correction.score?.total||0),children:["Nota: ",e.correction&&e.correction.score&&e.correction.score.total]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Aluno: ",e.userName," • Corrigida ",e.correctedAt?.toDate().toLocaleDateString()]})]})]}),a.jsx(o.z,{variant:"outline",onClick:()=>D(e.id),disabled:!0,children:"Ver detalhes"})]})})},e.id)),0===P.length&&a.jsx("div",{className:"text-center py-10 text-gray-500",children:a.jsx("p",{children:"Nenhuma corre\xe7\xe3o conclu\xedda encontrada"})})]})})]})]})]})}},4249:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var a=t(30173),s=t(73317),o=t(71747);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let n=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},32535:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var a=t(30173),s=t(73317),o=t(71747);let i=s.forwardRef(({className:e,type:r,...t},s)=>a.jsx("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));i.displayName="Input"},79207:(e,r,t)=>{"use strict";t.d(r,{_:()=>d});var a=t(30173),s=t(73317),o=t(2948),i=t(32321),n=t(71747);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...r},t)=>a.jsx(o.f,{ref:t,className:(0,n.cn)(l(),e),...r}));d.displayName=o.f.displayName},9914:(e,r,t)=>{"use strict";t.d(r,{SP:()=>d,dr:()=>l,mQ:()=>n,nU:()=>c});var a=t(30173),s=t(73317),o=t(52726),i=t(71747);let n=o.fC,l=s.forwardRef(({className:e,...r},t)=>a.jsx(o.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));l.displayName=o.aV.displayName;let d=s.forwardRef(({className:e,...r},t)=>a.jsx(o.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));d.displayName=o.xz.displayName;let c=s.forwardRef(({className:e,...r},t)=>a.jsx(o.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));c.displayName=o.VY.displayName},3089:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},17916:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},81564:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},87004:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},4757:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},50732:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},44598:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},51950:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},44161:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},94276:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4937:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(51825).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},21858:(e,r,t)=>{"use strict";function a(){return null}t.r(r),t.d(r,{default:()=>a})},9477:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(71268).createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/professor/dashboard/correcoes/page.tsx#default`)},97952:(e,r,t)=>{"use strict";function a(e,[r,t]){return Math.min(t,Math.max(r,e))}t.d(r,{u:()=>a})},56608:(e,r,t)=>{"use strict";t.d(r,{Ee:()=>y,NY:()=>j,fC:()=>b});var a=t(73317),s=t(24803),o=t(44648),i=t(65406),n=t(22269),l=t(30173),d="Avatar",[c,u]=(0,s.b)(d),[m,f]=c(d),p=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...s}=e,[o,i]=a.useState("idle");return(0,l.jsx)(m,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:(0,l.jsx)(n.WV.span,{...s,ref:r})})});p.displayName=d;var x="AvatarImage",h=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:s,onLoadingStatusChange:d=()=>{},...c}=e,u=f(x,t),m=function(e,r){let[t,s]=a.useState("idle");return(0,i.b)(()=>{if(!e){s("error");return}let t=!0,a=new window.Image,o=e=>()=>{t&&s(e)};return s("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,r&&(a.referrerPolicy=r),()=>{t=!1}},[e,r]),t}(s,c.referrerPolicy),p=(0,o.W)(e=>{d(e),u.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==m&&p(m)},[m,p]),"loaded"===m?(0,l.jsx)(n.WV.img,{...c,ref:r,src:s}):null});h.displayName=x;var g="AvatarFallback",v=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:s,...o}=e,i=f(g,t),[d,c]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),d&&"loaded"!==i.imageLoadingStatus?(0,l.jsx)(n.WV.span,{...o,ref:r}):null});v.displayName=g;var b=p,y=h,j=v},2948:(e,r,t)=>{"use strict";t.d(r,{f:()=>n});var a=t(73317),s=t(22269),o=t(30173),i=a.forwardRef((e,r)=>(0,o.jsx)(s.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var n=i},22719:(e,r,t)=>{"use strict";t.d(r,{D:()=>s});var a=t(73317);function s(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},3957:(e,r,t)=>{"use strict";t.d(r,{t:()=>o});var a=t(73317),s=t(65406);function o(e){let[r,t]=a.useState(void 0);return(0,s.b)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let a,s;if(!Array.isArray(r)||!r.length)return;let o=r[0];if("borderBoxSize"in o){let e=o.borderBoxSize,r=Array.isArray(e)?e[0]:e;a=r.inlineSize,s=r.blockSize}else a=e.offsetWidth,s=e.offsetHeight;t({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[983,754,636,222,118,139,589],()=>t(80303));module.exports=a})();