(()=>{var e={};e.id=409,e.ids=[409],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},64535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>m,tree:()=>d}),r(71340),r(17489),r(54821);var o=r(88619),s=r(31304),a=r(2332),n=r.n(a),i=r(66734),u={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);r.d(t,u);let d=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,17489,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,54821)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,17489,23)),"next/dist/client/components/not-found-error"]}],l=[],c="/_not-found/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},88338:(e,t,r)=>{Promise.resolve().then(r.bind(r,92871)),Promise.resolve().then(r.bind(r,73090)),Promise.resolve().then(r.bind(r,40255))},17651:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6274,23)),Promise.resolve().then(r.t.bind(r,1873,23)),Promise.resolve().then(r.t.bind(r,10012,23)),Promise.resolve().then(r.t.bind(r,2170,23)),Promise.resolve().then(r.t.bind(r,89721,23)),Promise.resolve().then(r.t.bind(r,83957,23))},92871:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>a});var o=r(30173);r(73317);var s=r(77093);function a({children:e,...t}){return o.jsx(s.f,{...t,children:e})}},73090:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,a:()=>l});var o=r(30173),s=r(73317),a=r(64619),n=r(47393),i=r(76860);let u=(0,s.createContext)(null);function d({children:e}){let[t,r]=(0,s.useState)(null),[d,l]=(0,s.useState)(null),[c,p]=(0,s.useState)(!0),[m,f]=(0,s.useState)(null),h=async e=>{try{let t=(0,a.JU)(n.db,"users",e.uid);await (0,a.oe)(t),console.log("Documento do usu\xe1rio deletado com sucesso"),await (0,i.h8)(e),console.log("Usu\xe1rio deletado do Auth com sucesso"),r(null),l(null),f(null)}catch(e){throw console.error("Erro ao limpar usu\xe1rio:",e),e}},x=async(e,t,r)=>{try{console.log("Iniciando cria\xe7\xe3o do documento do usu\xe1rio:",e.uid);let o=(0,a.JU)(n.db,"users",e.uid);if(!(await (0,a.QT)(o)).exists()){console.log("Criando novo documento para o usu\xe1rio");let s={id:e.uid,name:t,email:e.email||"",role:"student",createdAt:(0,a.Bt)(),lastLogin:(0,a.Bt)()};return console.log("Dados do novo usu\xe1rio:",s),await (0,a.pl)(o,s,{merge:!1}),console.log("Documento criado com sucesso"),await (0,a.ET)((0,a.hJ)(n.db,"subscriptions"),{userId:e.uid,type:"MESTRE_AMIGO"===r?"private":"free",status:"active",createdAt:(0,a.Bt)(),updatedAt:(0,a.Bt)(),tokens:{available:0,unlimited:"MESTRE_AMIGO"===r}}),console.log("Assinatura criada com sucesso"),f("student"),l(t),s}return null}catch(e){throw console.error("Erro ao criar documento do usu\xe1rio:",e),e}},b=async e=>{try{let t=await (0,a.QT)((0,a.JU)(n.db,"users",e));if(t.exists()){let e=t.data();return l(e.name),f(e.role),e}return null}catch(e){return console.error("Erro ao buscar dados do usu\xe1rio:",e),null}};return o.jsx(u.Provider,{value:{user:t,userName:d,loading:c,role:m,createUserDocument:x,cleanupUserOnError:h,fetchUserData:b,updateLastLogin:e=>{let t=(0,a.JU)(n.db,"users",e);(0,a.pl)(t,{lastLogin:(0,a.Bt)()},{merge:!0}).catch(e=>{console.error("Erro ao atualizar lastLogin:",e)})}},children:e})}function l(){let e=(0,s.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},47393:(e,t,r)=>{"use strict";let o,s,a;r.d(t,{I8:()=>o,db:()=>s,tO:()=>a});var n=r(13888);r(55397);var i=r(76860),u=r(64619),d=r(98345);let l={apiKey:"AIzaSyABZJxTb4i_SDIBE-j530FN1cGBwmkB054",authDomain:"mestre-da-redacao.firebaseapp.com",projectId:"mestre-da-redacao",storageBucket:"mestre-da-redacao.firebasestorage.app",messagingSenderId:"326080016742",appId:"1:326080016742:web:239aa8c38ec32dcfe018a7"};console.log("Configura\xe7\xe3o do Firebase:",{...l,apiKey:"***"});let c=(0,n.ZF)(l),p=null;try{console.log("App Firebase inicializado:",c.name),p=null,o=(0,i.v0)(c),s=(0,u.ad)(c),a=(0,d.getStorage)(c),console.log("Servi\xe7os Firebase inicializados:",{auth:!!o,db:!!s,analytics:!!p,storage:!!a})}catch(e){throw console.error("Erro ao inicializar Firebase:",e),e}},54821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>u});var o=r(64739);r(2830);var s=r(71268);let a=(0,s.createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/components/theme-provider.tsx#ThemeProvider`);var n=r(7392);(0,s.createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/lib/auth-context.tsx#AuthContext`);let i=(0,s.createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/lib/auth-context.tsx#AuthProvider`);(0,s.createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/lib/auth-context.tsx#useAuth`);let u={title:"Mestre da Reda\xe7\xe3o - Plataforma de Reda\xe7\xe3o Online",description:"Plataforma online para assistir aulas e ter reda\xe7\xf5es corrigidas com excel\xeancia",generator:"v0.dev"};function d({children:e}){return o.jsx("html",{lang:"pt-BR",children:(0,o.jsxs)("body",{className:"bg-background text-foreground",children:[o.jsx(i,{children:o.jsx(a,{attribute:"class",defaultTheme:"light",enableSystem:!1,disableTransitionOnChange:!0,children:e})}),o.jsx(n.x7,{richColors:!0,position:"top-center"})]})})}},70662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return s},notFound:function(){return o}});let r="NEXT_NOT_FOUND";function o(){let e=Error(r);throw e.digest=r,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PARALLEL_ROUTE_DEFAULT_PATH:function(){return s},default:function(){return a}});let o=r(70662),s="next/dist/client/components/parallel-route-default.js";function a(){(0,o.notFound)()}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2830:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[983,754],()=>r(64535));module.exports=o})();