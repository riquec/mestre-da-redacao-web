(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},48354:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l}),s(51301),s(95892),s(54821),s(17489);var t=s(88619),a=s(31304),i=s(2332),n=s.n(i),o=s(66734),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(r,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51301)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,95892)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,54821)),"/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,17489,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/dashboard/page.tsx"],u="/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1317:(e,r,s)=>{Promise.resolve().then(s.bind(s,59066))},59066:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var t=s(30173),a=s(12424),i=s(73090),n=s(84769),o=s(73317);s(64619),s(47393);var d=s(50867),l=s(4249),c=s(99287),u=s(63460),m=s(17916),x=s(4937),h=s(44598),p=s(29037);let f={free:{name:"Plano B\xe1sico",description:"Para conhecer a plataforma",corrections:0},medium:{name:"Plano M\xe9dio",description:"Para praticar regularmente",corrections:2},master:{name:"Plano Mestre",description:"Para quem busca excel\xeancia",corrections:4},"master-plus":{name:"Plano Mestre++",description:"Experi\xeancia completa",corrections:6}};function g(e){return e&&"string"==typeof e.status}function b(){var e;let r=(0,a.useRouter)(),{user:s,userName:b,loading:j}=(0,i.a)(),{subscription:y,loading:v}=(0,n.m)(),{essays:N,loading:w}=function(e={}){let{user:r}=(0,i.a)(),[s,t]=(0,o.useState)([]),[a,n]=(0,o.useState)(!0),[d,l]=(0,o.useState)(null);return{essays:s,loading:a,error:d}}({limit:3}),{lessons:P,progress:q,loading:k}=function(){let{user:e}=(0,i.a)(),[r,s]=(0,o.useState)([]),[t,a]=(0,o.useState)({}),[n,d]=(0,o.useState)(!0),[l,c]=(0,o.useState)(null);return{lessons:r,progress:t,loading:n,error:l}}(),{chats:Z,loading:C}=function(){let{user:e}=(0,i.a)(),[r,s]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[n,d]=(0,o.useState)(null);return{chats:r,loading:t,error:n}}();if(console.log("subscription:",y),console.log("essays:",N),console.log("lessons:",P),j||v||w||k||C)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});let S=y?.type?f[e=y.type]?{name:f[e].name,description:f[e].description}:"private"===e?{name:"Aluno Privado",description:"Acesso ilimitado por ser aluno particular."}:"partner"===e?{name:"Aluno Parceiro",description:"Acesso ilimitado por parceria institucional."}:{name:"Plano Desconhecido",description:"Consulte o suporte."}:{name:"Plano B\xe1sico",description:"Para conhecer a plataforma"};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Ol\xe1, ",b||"Usu\xe1rio"]}),t.jsx("p",{className:"text-gray-500",children:"Bem-vindo ao seu painel de reda\xe7\xe3o"})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{className:"pb-2",children:t.jsx(l.ll,{className:"text-sm font-medium",children:"Seu plano atual"})}),t.jsx(l.aY,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S.name}),t.jsx("p",{className:"text-xs text-gray-500",children:S.description})]}),t.jsx(d.z,{size:"sm",variant:"outline",className:"px-4 py-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white hover:bg-gray-50 transition",onClick:()=>r.push("/dashboard/assinatura"),children:"Gerenciar"})]})})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{className:"pb-2",children:t.jsx(l.ll,{className:"text-sm font-medium",children:"Corre\xe7\xf5es dispon\xedveis"})}),t.jsx(l.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-2xl font-bold",children:y?.tokens&&("private"===y.type||"partner"===y.type||y.tokens.unlimited)?"Corre\xe7\xf5es ilimitadas":y?.tokens?"number"==typeof y.tokens.available?y.tokens.available:0:"0"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Neste m\xeas"})]}),t.jsx(u.Progress,{value:y?.tokens&&("private"===y.type||"partner"===y.type||y.tokens.unlimited)?100:y?.tokens&&y.tokens.available>0?100:0,className:"h-2"})]})})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{className:"pb-2",children:t.jsx(l.ll,{className:"text-sm font-medium",children:"Reda\xe7\xf5es corrigidas"})}),t.jsx(l.aY,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:Array.isArray(N)?N.filter(e=>g(e.correction)&&"done"===e.correction.status).length:0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total de corre\xe7\xf5es"})]}),t.jsx(p.default,{href:"/dashboard/redacoes",children:t.jsx(d.z,{size:"sm",variant:"outline",className:"px-4 py-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white hover:bg-gray-50 transition",children:"Ver todas"})})]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsx(p.default,{href:"/dashboard/redacoes/nova",children:(0,t.jsxs)(d.z,{variant:"outline",className:"w-full h-auto py-4 flex flex-col items-center gap-2 border-2 border-yellow-300 shadow-sm rounded-md font-semibold text-gray-800 bg-white hover:bg-yellow-50 transition",children:[t.jsx(m.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"Nova reda\xe7\xe3o"})]})}),t.jsx(p.default,{href:"/dashboard/aulas",children:(0,t.jsxs)(d.z,{variant:"outline",className:"w-full h-auto py-4 flex flex-col items-center gap-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white hover:bg-gray-50 transition",children:[t.jsx(x.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"Videoaulas"})]})}),t.jsx(p.default,{href:"/em-construcao",children:(0,t.jsxs)(d.z,{variant:"outline",className:"w-full h-auto py-4 flex flex-col items-center gap-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white hover:bg-gray-50 transition",children:[t.jsx(h.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"Chat com professor"})]})}),t.jsx(p.default,{href:"/dashboard/propostas",children:(0,t.jsxs)(d.z,{variant:"outline",className:"w-full h-auto py-4 flex flex-col items-center gap-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white hover:bg-gray-50 transition",children:[t.jsx(m.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"Propostas de reda\xe7\xe3o"})]})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{children:"Aulas recentes"}),t.jsx(l.SZ,{children:"Continue de onde parou"})]}),t.jsx(l.aY,{children:t.jsx("div",{className:"space-y-4",children:Array.isArray(P)&&P.slice(0,3).map(e=>{if(!e)return null;let r=q&&q[e.id];return(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-gray-100 rounded-md p-2",children:t.jsx(x.Z,{className:"h-5 w-5 text-gray-500"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"font-medium",children:e.title||"Sem t\xedtulo"}),(0,t.jsxs)(c.C,{variant:"outline",children:[e.duration?Math.floor(e.duration/60):0," min"]})]}),r&&t.jsx(u.Progress,{value:r.progress,className:"h-1"})]})]},e.id)})})}),t.jsx(l.eW,{children:t.jsx(p.default,{href:"/dashboard/aulas",children:t.jsx(d.z,{variant:"outline",className:"w-full hover:bg-gray-50 px-4 py-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white transition",children:"Ver todas as aulas"})})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{children:"Reda\xe7\xf5es recentes"}),t.jsx(l.SZ,{children:"Suas \xfaltimas reda\xe7\xf5es"})]}),t.jsx(l.aY,{children:t.jsx("div",{className:"space-y-4",children:Array.isArray(N)&&N.map(e=>e&&(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-gray-100 rounded-md p-2",children:t.jsx(m.Z,{className:"h-5 w-5 text-gray-500"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"font-medium",children:e.theme?.title||"Tema n\xe3o encontrado"}),t.jsx(c.C,{variant:g(e.correction)&&"done"===e.correction.status?"default":"outline",className:g(e.correction)&&"done"===e.correction.status?"":"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-50",children:g(e.correction)&&"done"===e.correction.status?"Corrigida":"Pendente"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviada em ",e.submittedAt&&e.submittedAt.toDate?e.submittedAt.toDate().toLocaleDateString():"Data desconhecida"]})]})]},e.id))})}),t.jsx(l.eW,{children:t.jsx(p.default,{href:"/dashboard/redacoes",children:t.jsx(d.z,{variant:"outline",className:"w-full hover:bg-gray-50 px-4 py-2 border border-gray-300 rounded-md font-semibold text-gray-800 bg-white transition",children:"Ver todas as reda\xe7\xf5es"})})})]})]})]})}},99287:(e,r,s)=>{"use strict";s.d(r,{C:()=>o});var t=s(30173);s(73317);var a=s(32321),i=s(71747);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...s}){return t.jsx("div",{className:(0,i.cn)(n({variant:r}),e),...s})}},4249:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>o,SZ:()=>l,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>d});var t=s(30173),a=s(73317),i=s(71747);let n=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},84769:(e,r,s)=>{"use strict";s.d(r,{m:()=>i});var t=s(73317);s(64619),s(47393);var a=s(73090);function i(){let{user:e}=(0,a.a)(),[r,s]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0),[o,d]=(0,t.useState)(null);return{subscription:r,loading:i,error:o}}},51825:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d});var t=s(73317);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:d,iconNode:l,...c},u)=>(0,t.createElement)("svg",{ref:u,...n,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:i("lucide",o),...c},[...l.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),d=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...n},d)=>(0,t.createElement)(o,{ref:d,iconNode:r,className:i(`lucide-${a(e)}`,s),...n}));return s.displayName=`${e}`,s}},17916:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(51825).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},44598:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(51825).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4937:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(51825).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},51301:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(71268).createProxy)(String.raw`/Users/henriquejardim/Documents/dev/mestre-da-redacao/mestre-redacao-web/app/dashboard/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[983,754,636,222,251],()=>s(48354));module.exports=t})();