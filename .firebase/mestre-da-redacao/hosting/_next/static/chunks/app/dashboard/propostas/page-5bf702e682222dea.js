(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2322],{5546:function(e,r,t){Promise.resolve().then(t.bind(t,424))},424:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var a=t(9807),s=t(7694),n=t(9102),l=t(8355),i=t(7459),o=t(1961),c=t(8566);let d=(0,t(6875).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var u=t(3360),f=t(2787),m=t(2936),p=t(6976),x=t(9456);function h(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,x.cn)("animate-pulse rounded-md bg-muted",r),...t})}var g=t(259);function v(){let[e,r]=(0,s.useState)(""),[t,x]=(0,s.useState)(null),{proposals:v,loading:b,error:y}=function(){let[e,r]=(0,s.useState)([]),[t,a]=(0,s.useState)(!0),[n,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=!0;return async function(){try{let t=(0,m.hJ)(p.db,"essayThemes"),a=(0,m.IO)(t,(0,m.ar)("active","==",!0)),s=await (0,m.PL)(a);if(!e)return;let n=s.docs.map(e=>{let r=e.data();return{id:e.id,...r,createdAt:r.createdAt.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}});n.sort((e,r)=>{let t=new Date(e.createdAt.split("/").reverse().join("-"));return new Date(r.createdAt.split("/").reverse().join("-")).getTime()-t.getTime()}),r(n)}catch(r){console.error("Erro ao buscar propostas:",r),e&&l("Erro ao carregar as propostas. Tente novamente mais tarde.")}finally{e&&a(!1)}}(),()=>{e=!1}},[]),{proposals:e,loading:t,error:n}}(),N=(0,g.useRouter)(),j=e=>{x(e),N.push("/dashboard/redacoes/nova?themeId=".concat(e))},w=e=>{x(e),N.push("/dashboard/propostas/".concat(e))},k=v.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase())||r.tags.some(r=>r.toLowerCase().includes(e.toLowerCase())));return y?(0,a.jsx)("div",{className:"text-center py-10",children:(0,a.jsx)("p",{className:"text-red-500",children:y})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Propostas de Reda\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Escolha uma proposta para come\xe7ar sua reda\xe7\xe3o"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(o.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),(0,a.jsx)(i.I,{placeholder:"Buscar por t\xedtulo, descri\xe7\xe3o ou tags...",className:"pl-8",value:e,onChange:e=>r(e.target.value)})]})}),(0,a.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[b?Array.from({length:6}).map((e,r)=>(0,a.jsxs)(n.Zb,{className:"flex flex-col",children:[(0,a.jsxs)(n.Ol,{className:"pb-2",children:[(0,a.jsx)(h,{className:"h-4 w-24"}),(0,a.jsx)(h,{className:"h-4 w-16 mt-2"})]}),(0,a.jsxs)(n.aY,{className:"flex-grow",children:[(0,a.jsx)(h,{className:"h-16 w-full"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,a.jsx)(h,{className:"h-6 w-16"}),(0,a.jsx)(h,{className:"h-6 w-16"})]})]}),(0,a.jsxs)(n.eW,{className:"flex gap-2",children:[(0,a.jsx)(h,{className:"h-10 flex-1"}),(0,a.jsx)(h,{className:"h-10 flex-1"})]})]},r)):k.map(e=>(0,a.jsxs)(n.Zb,{className:"flex flex-col",children:[(0,a.jsxs)(n.Ol,{className:"pb-2",children:[(0,a.jsx)(n.ll,{className:"text-xl",children:e.title}),(0,a.jsx)(n.SZ,{className:"line-clamp-2",children:e.description})]}),(0,a.jsxs)(n.aY,{className:"flex-grow",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("span",{className:"px-3 py-1.5 bg-blue-900 text-white font-medium rounded-md text-sm",children:"ENEM_MESTRE"===e.category?"ENEM (Mestre da Reda\xe7\xe3o)":"ENEM_PASSADO"===e.category?"ENEM (Edi\xe7\xf5es passadas)":e.category})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(e=>(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:e},e))}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Criado em: ",e.createdAt]})]}),(0,a.jsxs)(n.eW,{className:"flex gap-2 pt-0",children:[(0,a.jsxs)(l.z,{variant:"outline",className:"w-full",onClick:()=>w(e.id),disabled:t===e.id,children:[t===e.id?(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),"Ver detalhes"]}),(0,a.jsxs)(l.z,{onClick:()=>j(e.id),className:"w-full bg-gradient-to-r from-yellow-500 to-yellow-400 hover:from-yellow-600 hover:to-yellow-500 text-gray-900 font-medium shadow-md",disabled:t===e.id,children:[t===e.id?(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Enviar reda\xe7\xe3o"]})]})]},e.id)),!b&&0===k.length&&(0,a.jsx)(n.Zb,{className:"col-span-full",children:(0,a.jsxs)(n.aY,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Nenhuma proposta encontrada"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Tente ajustar sua busca ou aguarde novas propostas"})]})})]})]})}},8355:function(e,r,t){"use strict";t.d(r,{d:function(){return o},z:function(){return c}});var a=t(9807),s=t(7694),n=t(2931),l=t(6640),i=t(9456);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",terciary:"bg-background border border-primary text-primary hover:bg-primary/10"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:t})),ref:r,...d})});c.displayName="Button"},9102:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=t(9807),s=t(7694),n=t(9456);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},7459:function(e,r,t){"use strict";t.d(r,{I:function(){return l}});var a=t(9807),s=t(7694),n=t(9456);let l=s.forwardRef((e,r)=>{let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},6976:function(e,r,t){"use strict";let a,s,n;t.d(r,{I8:function(){return a},db:function(){return s},tO:function(){return n}});var l=t(3631),i=t(3797),o=t(5200),c=t(2936),d=t(9542);let u={apiKey:"AIzaSyABZJxTb4i_SDIBE-j530FN1cGBwmkB054",authDomain:"mestre-da-redacao.firebaseapp.com",projectId:"mestre-da-redacao",storageBucket:"mestre-da-redacao.firebasestorage.app",messagingSenderId:"326080016742",appId:"1:326080016742:web:239aa8c38ec32dcfe018a7"};console.log("Configura\xe7\xe3o do Firebase:",{...u,apiKey:"***"});let f=(0,l.ZF)(u),m=null;try{console.log("App Firebase inicializado:",f.name),m=(0,i.IH)(f),a=(0,o.v0)(f),s=(0,c.ad)(f),n=(0,d.getStorage)(f),console.log("Servi\xe7os Firebase inicializados:",{auth:!!a,db:!!s,analytics:!!m,storage:!!n})}catch(e){throw console.error("Erro ao inicializar Firebase:",e),e}},9456:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(8223),s=t(6257);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}},6875:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var a=t(7694);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...f}=e;return(0,a.createElement)("svg",{ref:r,...l,width:s,height:s,stroke:t,strokeWidth:o?24*Number(i)/Number(s):i,className:n("lucide",c),...f},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),o=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:o,...c}=t;return(0,a.createElement)(i,{ref:l,iconNode:r,className:n("lucide-".concat(s(e)),o),...c})});return t.displayName="".concat(e),t}},2787:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(6875).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8566:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(6875).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1961:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(6875).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3360:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(6875).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},259:function(e,r,t){"use strict";var a=t(2779);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},6640:function(e,r,t){"use strict";t.d(r,{j:function(){return l}});var a=t(8223);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,l=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:l,defaultVariants:i}=r,o=Object.keys(l).map(e=>{let r=null==t?void 0:t[e],a=null==i?void 0:i[e];if(null===r)return null;let n=s(r)||s(a);return l[e][n]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return n(e,o,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:t,className:a,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...c}[r]):({...i,...c})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},function(e){e.O(0,[5453,291,3727,5624,4315,514,1744],function(){return e(e.s=5546)}),_N_E=e.O()}]);