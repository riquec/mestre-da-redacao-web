(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8709],{4003:function(e,r,t){Promise.resolve().then(t.bind(t,8029))},8029:function(e,r,t){"use strict";t.d(r,{EssayDetails:function(){return c}});var a=t(9807),n=t(7694),s=t(2936),o=t(6976),i=t(9102),l=t(8355),d=t(2787);function c(e){var r,t,c,u,m,f,v,p,x,h;let{id:g}=e,[b,j]=(0,n.useState)(null),[N,y]=(0,n.useState)(null),[w,k]=(0,n.useState)(""),[C,A]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{(async function(){var e;A(!0);let r=(0,s.JU)(o.db,"essays",g),t=await (0,s.QT)(r);if(!t.exists())return A(!1);let a=t.data();if(j(a),a.themeId){let e=(0,s.JU)(o.db,"essayThemes",a.themeId),r=await (0,s.QT)(e);r.exists()&&y(r.data())}if(null===(e=a.correction)||void 0===e?void 0:e.assignedTo){let e=(0,s.JU)(o.db,"users",a.correction.assignedTo),r=await (0,s.QT)(e);r.exists()&&k(r.data().name)}A(!1)})()},[g]),C)return(0,a.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."});if(!b)return(0,a.jsx)("div",{className:"p-8 text-center text-red-500",children:"Reda\xe7\xe3o n\xe3o encontrada."});let z=b.fileName||(null===(r=b.file)||void 0===r?void 0:r.name),F=b.fileUrl||(null===(t=b.file)||void 0===t?void 0:t.url),S=null===(c=b.correction)||void 0===c?void 0:c.correctionFileUrl,Z=(null===(u=b.correction)||void 0===u?void 0:u.correctionFileName)||"Arquivo de corre\xe7\xe3o",T=null===(m=b.correction)||void 0===m?void 0:m.audioFileUrl,_=(null===(v=b.correction)||void 0===v?void 0:null===(f=v.completedAt)||void 0===f?void 0:f.toDate)?b.correction.completedAt.toDate():null,q=null===(p=b.correction)||void 0===p?void 0:p.score;return["jpg","jpeg","png","gif","bmp","webp"].includes(S?(e=>{let r=e.match(/\.([a-zA-Z0-9]+)(\?|$)/);return r?r[1].toLowerCase():""})(S):""),(0,a.jsx)("div",{className:"flex justify-center mt-10",children:(0,a.jsxs)(i.Zb,{className:"w-full max-w-2xl shadow-lg",children:[(0,a.jsxs)(i.Ol,{className:"pb-2 border-b",children:[(0,a.jsx)(i.ll,{className:"text-2xl font-bold text-blue-900 mb-2",children:(null==N?void 0:N.title)||"Tema n\xe3o encontrado"}),(0,a.jsxs)(i.SZ,{className:"text-gray-600 mb-1",children:["Enviada em ",null===(x=b.submittedAt)||void 0===x?void 0:x.toDate().toLocaleDateString(),_&&(0,a.jsxs)(a.Fragment,{children:[" â€¢ ","Corrigida em ",_.toLocaleDateString()]})]}),w&&(0,a.jsxs)(i.SZ,{className:"text-gray-600 mb-1",children:["Corrigida por: ",(0,a.jsx)("span",{className:"font-semibold",children:w})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"font-bold text-green-700",children:"Nota final:"}),(0,a.jsx)("span",{className:"text-lg",children:null!==(h=null==q?void 0:q.total)&&void 0!==h?h:"--"})]}),q&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm text-gray-700",children:[(0,a.jsxs)("div",{children:["Dom\xednio da norma culta: ",(0,a.jsx)("span",{className:"font-semibold",children:q.dominioNormaCulta})]}),(0,a.jsxs)("div",{children:["Compreens\xe3o da proposta: ",(0,a.jsx)("span",{className:"font-semibold",children:q.compreensaoProposta})]}),(0,a.jsxs)("div",{children:["Sele\xe7\xe3o de argumentos: ",(0,a.jsx)("span",{className:"font-semibold",children:q.selecaoArgumentos})]}),(0,a.jsxs)("div",{children:["Coes\xe3o textual: ",(0,a.jsx)("span",{className:"font-semibold",children:q.coesaoTextual})]}),(0,a.jsxs)("div",{children:["Proposta de interven\xe7\xe3o: ",(0,a.jsx)("span",{className:"font-semibold",children:q.propostaIntervencao})]})]})]}),(0,a.jsxs)(i.aY,{className:"space-y-6 pt-6",children:[F&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("span",{className:"font-semibold block mb-2",children:"Arquivo enviado:"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(d.Z,{className:"h-6 w-6 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:z}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>window.open(F,"_blank"),children:"Baixar"})]}),(()=>{let e=(z||"").toLowerCase(),r=F.toLowerCase(),t=e.endsWith(".pdf")||r.endsWith(".pdf"),n=[".jpg",".jpeg",".png",".gif"].some(t=>e.endsWith(t)||r.endsWith(t));return t?(0,a.jsx)("iframe",{src:"".concat(F,"#toolbar=0"),className:"w-full h-[500px] rounded-md border",title:z||"Arquivo enviado",allow:"autoplay"}):n?(0,a.jsx)("img",{src:F,alt:z||"Arquivo enviado",className:"max-h-[500px] w-auto rounded-md border mx-auto"}):(0,a.jsx)("div",{className:"mt-4 text-gray-500 text-sm",children:"Tipo de arquivo n\xe3o suportado para pr\xe9-visualiza\xe7\xe3o. Fa\xe7a o download para visualizar."})})()]}),S&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("span",{className:"font-semibold block mb-2",children:"Arquivo da corre\xe7\xe3o:"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(d.Z,{className:"h-6 w-6 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:Z}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>window.open(S,"_blank"),children:"Baixar"})]}),(()=>{let e=(Z||"").toLowerCase(),r=e.endsWith(".pdf"),t=[".jpg",".jpeg",".png",".gif"].some(r=>e.endsWith(r));return r?(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("iframe",{src:"".concat(S,"#toolbar=0"),className:"w-full h-[500px] rounded-md border",title:Z||"Arquivo da corre\xe7\xe3o",allow:"autoplay"})}):t?(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("img",{src:S,alt:Z||"Arquivo da corre\xe7\xe3o",className:"max-h-[500px] w-auto rounded-md border mx-auto"})}):(0,a.jsx)("div",{className:"mt-4 text-gray-500 text-sm",children:"Tipo de arquivo n\xe3o suportado para pr\xe9-visualiza\xe7\xe3o. Fa\xe7a o download para visualizar."})})()]}),T&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Feedback em \xe1udio:"}),(0,a.jsx)("audio",{controls:!0,src:T,className:"w-full mt-2"})]})]})]})})}},8355:function(e,r,t){"use strict";t.d(r,{d:function(){return l},z:function(){return d}});var a=t(9807),n=t(7694),s=t(2931),o=t(6640),i=t(9456);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",terciary:"bg-background border border-primary text-primary hover:bg-primary/10"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:o,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:n,size:o,className:t})),ref:r,...c})});d.displayName="Button"},9102:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var a=t(9807),n=t(7694),s=t(9456);let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});o.displayName="Card";let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});l.displayName="CardTitle";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...n})});c.displayName="CardContent";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...n})});u.displayName="CardFooter"},6976:function(e,r,t){"use strict";let a,n,s;t.d(r,{I8:function(){return a},db:function(){return n},tO:function(){return s}});var o=t(3631),i=t(3797),l=t(5200),d=t(2936),c=t(9542);let u={apiKey:"AIzaSyABZJxTb4i_SDIBE-j530FN1cGBwmkB054",authDomain:"mestre-da-redacao.firebaseapp.com",projectId:"mestre-da-redacao",storageBucket:"mestre-da-redacao.firebasestorage.app",messagingSenderId:"326080016742",appId:"1:326080016742:web:239aa8c38ec32dcfe018a7"};console.log("Configura\xe7\xe3o do Firebase:",{...u,apiKey:"***"});let m=(0,o.ZF)(u),f=null;try{console.log("App Firebase inicializado:",m.name),f=(0,i.IH)(m),a=(0,l.v0)(m),n=(0,d.ad)(m),s=(0,c.getStorage)(m),console.log("Servi\xe7os Firebase inicializados:",{auth:!!a,db:!!n,analytics:!!f,storage:!!s})}catch(e){throw console.error("Erro ao inicializar Firebase:",e),e}},9456:function(e,r,t){"use strict";t.d(r,{cn:function(){return s}});var a=t(8223),n=t(6257);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,a.W)(r))}},6875:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var a=t(7694);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...o,width:n,height:n,stroke:t,strokeWidth:l?24*Number(i)/Number(n):i,className:s("lucide",d),...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),l=(e,r)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:l,...d}=t;return(0,a.createElement)(i,{ref:o,iconNode:r,className:s("lucide-".concat(n(e)),l),...d})});return t.displayName="".concat(e),t}},2787:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(6875).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},6640:function(e,r,t){"use strict";t.d(r,{j:function(){return o}});var a=t(8223);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.W,o=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:o,defaultVariants:i}=r,l=Object.keys(o).map(e=>{let r=null==t?void 0:t[e],a=null==i?void 0:i[e];if(null===r)return null;let s=n(r)||n(a);return o[e][s]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return s(e,l,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:t,className:a,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...d}[r]):({...i,...d})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},function(e){e.O(0,[5453,291,3727,5624,4315,514,1744],function(){return e(e.s=4003)}),_N_E=e.O()}]);