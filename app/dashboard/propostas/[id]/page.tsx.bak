import { Suspense } from "react"
import { ProposalDetails } from "./proposal-details"
import { collection, getDocs } from "firebase/firestore"
import { db } from "@/lib/firebase"

export async function generateStaticParams() {
  const snapshot = await getDocs(collection(db, "essayThemes"))
  return snapshot.docs.map((doc) => ({
    id: doc.id,
  }))
}

export default function Page({ params }: { params: { id: string } }) {
  return (
    <Suspense fallback={<div>Carregando...</div>}>
      <ProposalDetails id={params.id} />
    </Suspense>
  )
} 